<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Vickie Yim | Product Ordering Tool</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="shortcut icon" href="img/favicon.png">

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-page {
                width: 100%;
                padding: 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-page .locked {
                width: 1.1rem;
                margin-right: 0.5rem;
            }

            .staticrypt-form {
                position: absolute;
                z-index: 1;
                background: #ffffff;
                color: #212121;
                width: 360px;
                top: 50%;
                left: 50%;
                margin-right: -50%;
                transform: translate(-50%, -50%);
                padding: 2rem;
                text-align: left;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                color: #212121;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 0.9rem;
                outline: 0;
                padding: 1rem 2rem 1rem 1rem; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                width: 100%;
                border: 1px solid #9e9e9e;
                margin: 0 0 1rem;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #424242;
                width: 100%;
                border: 0;
                border-radius: 0;
                padding: 0.9rem;
                color: #ffffff;
                font-size: 0.9rem;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active {
                background: #212121;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
                font-family: "Circular STD", "Gotham HTF", "SF Pro", "Arial", sans-serif;
            }

            .staticrypt-body {
                width: 100%;
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1rem;
                background: #f5f5f5;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                width: 100%;
                display: inline-flex;
                align-items: center;
                margin-top: -1rem;
                margin-bottom: 0.5rem;
            }

            .staticrypt-title {
                font-size: 1rem;
                color: #424242;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .error {
                display: block !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            #invalidPass {
                display: none;
                color: #ff5555;
                margin-top: 1rem;
            }

            .nav {
                position: absolute;
                top: 0;
                right: 0;
                display: inline-flex;
                align-items: center;
                padding: 2rem 3rem;
                padding-right: 3.15rem;
            }

            .nav a {
                text-transform: uppercase;
                font-size: 0.94rem;
                font-weight: 600;
                margin-right: 1.6rem;
                color: #bdbdbd;
                text-decoration: none;
                line-height: 1.9rem;
            }
            
            .nav a:hover {
                color: #616161;
            }

            .nav a.active {
                color: #212121;
            }

            .nav a:nth-last-of-type(1) {
                margin-right: 0;
            }

            @media (max-width: 26.75em) {                
                .nav {
                    left: 0;
                    display: inline-flex;
                    justify-content: space-between;
                    padding: 2rem 3.15rem;
                }

                .nav a {
                    font-size: 1.15rem;
                }

                .desktop {
                    display: none;
                }

                .staticrypt-form {
                    width: 70vw;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <header class="nav">
			<a href="index.html">Work</a>
			<a href="ideas.html">Ideas</a>
			<a href="about.html">About</a>
		</header>

        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">This page is password protected</p>
                        <p></p>
                    </div>

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="ENTER" />

                        <span id="invalidPass" class="error">Incorrect password, please try again</span>
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = false,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7177ac81c95f8530169f245d518fd634487c761bc85dcbef395dc181ff23a7d6bfabca0c8491078497170c3a0df2a9833eea14334c5691385f09f9cdf0d9064af199746c42df9fbdcb7aa5a88fbd861927f987a6d19e71b4a61b8945183ca7dce72c232b00a900adba21a2ee9a9d19b30bc0af19ad67558e434904e402204d88495fb6d1947ed5592036685a7a6eb7cd99cdc7638883d797b5e98254a40b493a6d61a1c18103c11e508e4d2cd820fef5e8e8ab56797418019cca3ed704832b072285774c984b42edffdf161e0e65c6375077aa0da06ab37632cc00b3cd3dc3b33dae83ba36eb161f431f2c10e4735cb188843729b52ffb72c60cc76b368a61bdc9aedceee67bfeabbc44b446795571705e6becc94e103e6ca67efefd832d78f20acad67b49e0eccf9c4dfbde0c255bf03fc38872bb0bef910e684b054093628812f8b6ba4077029509ce4a3030f75e9f19a4d1fddedf7bbe350fdde1513d1e79f3ebdafda64724a2bb2c740d7158f6e429aadc2d730b51c3f364e08fd1dd94f13c96b907bfb6bc411e7bf376467e46b15b3fcf7517fdfec63238320b5195e8abb5258edd5a5aca7fb9dbb0abee07614a1af44153b9c2cf8e497f02a675fc38ed6d78289ce17fca6a3f8a0c188bb3af303608b93763344e83799f99834fcbf9162290b53b858293200ed9eca65cc7980e1a3bb466e906164673c3fbb2678b71bbf8ab0a60cbaff2a3399c6fd9fb1cd7c34aaa290fd351a2cd7d5f3c563ff9f49d7a2f57935893cd11dc5554026211db6856f0ce66140f3c8d8ffcbf5be5a8df5af9a0e894a500482f0d4c4615af16d92a1e2a95d155986c0476e842f1c6edb6c19fe5db3e6ecfc7a057a76ef9c7f478dd7f830ced0a9b0f3c1402320d3d43d70408c5d5c079bed67ee0c193a0f880b9a549bcd3ef1df6987f649179e7371aa4987a4c90edcd7b877b33bd7b193b5266f929de81ddfb3ef9dabcf541108027a3a7f07a4c12d2db74d5db63f31e5661309db324ab1d11738113a0154652ad2a169ae634ba6b69f0466c7048dcc7729041c4859ff425a42742a0388f93b8de965175122ef7546345f957cb10648f9b11fe82f92ff4dd688d5ba7ffc411aee51e26c8934305c20f09aee280e09ff148e09dd0a438d837cfe3f4f06fc06431b07879d2459000068c7a46354e7231fbeb4415d4a3802557d0709d3692e8e42b3af1cf4f672aa266b26aba25ebd52b225217feae7c6fdf16e527b7c81e9710929861d2e1edc7420b43c71e3b3174d3117c8b689c17b8692cf3915ce6523ca1b784f55b90ad5e28c6c323432b67625de538fa99f754f77160d43075c0afd62771e87765425f0ec56f7e5eba290024e2f233d75b458773a8ace66d3e35a6d980ac8640cdc643bd2a75446b7ea98e3a0d7b49f6466351f1aec06e131116d2aa508c46dd30ef14a9fe7453fbb8e8d976f5839d0c381e9181b798d34b339a6eae9c4a5874864f0082a963beead233e28273d4b4d3e6a5d2b1728ddf9632da55e2563afb3c19a68b01b775e8d2a0550dacb07c25a11fdd68cf7097af4e7cc14663cdaa0b1024a7d42596d338ff1ae8c6b9aaf5bfca90a5c9fcfea22491faeffe620e965fbcb626bf4a7e1cf0d2f6dfac1d482e732600cd4d34f594086d9096cf4be016f22543b79d3c022e5e5f9f1e37350a57564b3f689add5d31967af7b9522ae1fe46330932dbe75b9fda204e26af1d82064dc6f1956d29c4ad7d63b995d077d130293edc68f91cc4d92f227a2c7773ff74847be18e39f955ca6846c1e0c34179309643a921e7c2611e072c4e98480234b74c0e177c2df8d3d7821f0c19c4b0ff5a8416dc0b0abba57df0327c5969e6e10244707381fc05e8a2c34260c136bc05c7521909fe7a220c06d59878082586886dcd90f9eb668d39a96bc5277c3e8de7bcfb13e788d60617f9c94c960bc2f1a5e4b62bf90ecedc65749bdb879a4e43b25287b2a018afdc4f497847fed6aa8a237872c9a07dbe448986719b279d07a2f052f641b8f00ad49fb7ce785b8cd60bea9e54101cc85c1b26189da58af0f1afc8417cec9e7e522232236731b7f758f79fc4ade472851d706e471b35b4b195e7295ccdcb6c8b20d091c6a40ba7e1b505e05e82a6292d99f147c04dae7f17fc8e264cb0f635e6221227bd3550089afb6704dcfdb45b567035652642918240bee4ced6ff0298e598c6e3a2bbcca0f57fd0601e738a2936566cddd910da52a7a6399b10f0c973dc17f9d4c700516e71214836e8d78c03ae0fae128e4e9c23bb55503c97d9a49cfbfc0030ed02211d1d018c8bbc6710ef5f6864a6c7ccc60b20fdbcde48a54313318904f124deed39aa99710a15ed2a1e6501d9e0f8f48997c29bb6f44b1b5ac5bbc49c0370bd8c28c32f0510ac7af81997e3ddecfbf1a831ead436d3987e8ca95b6d1e6139118526ebaba11dbd65db9cff98d3495aa59b7476bc51213c15d3b5962db93938da9ceb0f5f83d5bb57b7e8e8ed73f0b7ac9e93275911694eb9a22db37a75bc32852cad9721062364922a27b76aa079d0ab6d57e4ec23175c64f0457414fde77277dce16180776276979939062a2ec5e086adfd972f7180cdba30b4e5bf4e488ce9c8ade8db303a274372eadcca1de4a4d2373b8313aa18ce15aae4622d7b0bf08de628995c36a5abc83191ef46ca16ee40e418536954898b9718944dff3e328781ee04b9fd6e0b0d9e25651616fafb4919bb9699ddb345964126d0d565e6084b1078f1f74e58037fd7b4aa47adc497c0640ea6da5d08d777697af66766e9e039b018c8ca89bd8f91c7d79e60e6ba76a33adcdff956f7d4f4286e78056b9508aefdc87fc6fd6b482057bb15efd276b4d5960ff53bb5b538a608a33d4a229d8832464421d2f7d943b3f63d1c5af0a74b7850433ed80484290c77fb23ac329151fc92768c44755d70982e388c6b13022d60794979df72bfe64259bd5e265645f5d3495ef4374d887ca0273246e853f16c1dc5f227d1a554dd1140bbb556582d2998affc75896e3449080528571283771ad4dd1995edd1f88b5395e79a7b5e82f12109ea69cce2a2f23643fa4d6f6f91b279b1a0db8f2f4c80c5eff766470a37d203c64ce76de7b6c54695581a2fba16c72a6a49a85c441a5765c6a7163d0a491f611135ddd2d75a2aeb7c73264ca84ccd968f378c915e1a5b223f9cd4232cf4ef197ed54f3f8192fb5af72829f43a7af9d4c19025ff1f983bc0f78d8defaca6e54814e0405885676529a4e07b412ad3a74c53f3e24e2f0d11e2218fe1a01f7e570a36b51949e3193bc8f9c12463dfcf19807e2f9161e1600cf738e8d6b62e60f3a42438592a79fcef9eee0466219e9682e7820fa56ce1b81c7ec24bead7d3c1afcbebdf2e6faeadd01ddfce780927a03a93cef995e0f6d2e7094c5ca6fbce97405507d72b84f115f543a7be4ea09ddc2f8de576112c5f8171e658c739339a40d749ca1b154168cd6beb9c232e6cbbd355d4ed02d24dcca0b1fc41cd8445e4661e54efd5fa39756d08d3af6db4013d62d6444d5d9e2f76115c7b76e1e215c6d14e251effcbff0b81d8b6809b144164e02e01b8470c9dea954f890df8492f37ff44d03ecdacb055457321500c1ba80c05cf38329522d9f0b241f6a9f31ff882f8ee7427b0c31a294033f23413904efbc943fd1fcc26bb62e1b9bc2bb4b4dc2c3e2ba447bda55f1a0a03e70cde32d13db0d9de7ded556bc651e17c7d288b135d50a195852a74e0b1aaa4affc4ba9f23634c0e3b248c50bf840563026aa881f03593c1a5f66661f9263c578fa0667b4cc3d0fe0aa503dd30661a4530cf073b45266e03c153cc70e493e21b7b9c0c8529dc056dcce65d5ec284c081ea09aaa03bd46f3a2ac80ce916992901b183a1d32cf14b8055b906364139a9ee7bd3d75841311a1cdd71edc8ce167e3b607f37a7400cd2c6facae761fe9ea356ad2fdae18895bdd7e0a215e21f28eb3ccc2ef7f3427c82c3fad3348eba0889bb591e6a3ab794c2533c9f981c3e88f937895e06852e6af2e1642e36b0c6a7d938252f42c5b7208bf3cb3f66319a9f53457b4d03625f09b31e1cc91224c5d24dfebc6721aaca0068f07dcd3dcbad86ad4112457abf014c28c0130b6dd6b612425be1556dc5c7039f8f79c2e4d0c21541bf3872e1376b4a37c15fb553cc4de8e77e8dd6450e50f011f5f2660f7ded4521284ecde33862349b2d31ae28823a49ab152f0b8508ef198d7dc75f80141a05dcce980bddb3fa008d65d87b889f20d66eec67d535995d2b6be5e9aa52b4c8dc344fe983cc60fc52897a881e514959dc17b24c59c00983fcedaa95479c96350a1a11bbc1859a1f43b28b349c3366239bfda8a855660299caaa0eaa464927bc80e5dd9561e1651634e1c81393bb9b890d1a4d30e43d673223e20a7f68d8b0228197745622fc467ee9a681874d3a7957de4b395afeb575681ad7ccb7e12e437ab95de3067e63a9682b276e6cc73ac5a09fb63b07608540a866eb1906e72ba80581cc7db74430b7b2470645b378598b571e15723948cdabef04e67aea42ad7bfde86379f0592231eb588bf9812c1903be372a78dbc1ff2757101952611c48396375d27937678d8f0b7979fdf70d1b00ad47b0fd7f1de6d20e4cd8e4652f791ee79d0c522ac956abc4ae7b2ccf49b7ba49c53793b8362b6cf06e731ba7c3d9cbf325d6c2f300fcb3d67a1456ed40345f6c592a0be22c60a153c5a434b4dbd7533df658f4d1d114448ce30a7564d737d9c03ae20ff21e2e77b0f7a868b2603308dccc8a2c78c61085d42e83caa6476a5e229e511b009f10b27770312df934cbc0619eb57f641e5e0775d9cb0b92bda515e0ba5b49c3710e69b0efc89d92773e3e9fecd42b7c7f5617125ed91bc1a180091d2d242deabe536c887c04a15ca7b835909a89e695d86359222b2df532f7b8d1e8ff443329e9a9651ab540d510580e3152bc8c73908b7169631fb889a57fc58e3aa0007dc732c1e2463419be816853e7622d58852829f62cb18000ad3e328e3e95cfb576e28f98981233f222b1040e5600a4eb8457f583e00b54dfa0702759ebda20c83df7ddbecfcdd3e7802a904b6c68d44dc6d73bbcac5a74ff7dbb94c4a70148125af7b8f074865df62ad95f688e1dcec8cebb769252532a538fb049a296e2065c7f730b698446247ae9c5c95ddea92a0e4419a10da7b89a1a962a885a1ef0393d1dc6e831c61507173dd70a629874ce24b1850b8fc296c472190e2030770c070956c76c9a8605efcaee05189e269f05b07d08ca49bd9f382dd613173478dbb105dfa29e5fe8c8f8f569160f9651b0dad1298cee886926843e8b27c0b32308d33ffcbc52f58f6dd311c68f2c5bddf645af28abbaec64e9a352e247cca3d3ac3444148914f049cf4fa752538346f098129a292f5bb7b0af8ca7dc177481292c4e7c8ab5bb916e929379abec5288bb0fec7cbcf5536426ebe04d2264963771be919e15f15b5a7f54b199f4488b6589f9871b2a683ab79c4fd5c1c15b06fe2498ed38acf477a65c2909db49e79146f067da9e4d49dc2a8d8911a8dbdb57b3b077bbb0521bd8e62cf4b6bde1a0ecb0e40b6879d3ab6c1f6b4c75ad934c89dd8114e804749aaa0f04b06506d8b2e87710e1879d6d7a4898d827d6e2221f6ada8826eb963d96d04576084fd313c3ef42030847800844a6a5b49a37a0c3f7c338a015253e713c39a1fcc0e2d1100b6905b39f00ec25929c4f3a87e41384e7da780ca8b1ac66452115afa45bde8b9ad1683e35364282c76a0127a16fc6d9f7b2be2fa3eeba6aceda43ea616d7db1757fd6804168f228068649ffb0bc9d26f3a04a82b8a88d507e9000d61757659c5b7c6b3079e6fe15a84f5421c37259d23850a0e9576df8567ceb83fd97dc12cba7c6766e881538b157b79a56a31371b0333e3391901a586fe1a6f60c27336789b29f6a2a7e7f35f08b050e24f80a2020d8a6bd4839513ed13ff8ec4323191e2597760e393c83b33570460a17a4477a725387518e42061d39ebd8b51662d34207162483526ee37bd91111808398b320aded38a0cff59c16d82b6b9e5907e699a1c25c90f361028acb2d65458307b8347f54248b2e92c323e8874537b5a8ead4dd65f17719e1c22ec5e026a4c4575afd1b3f31df118a7ab938062376f4f0237f4486466fbb5886f979b1518af2c46b342dd00c435c423eec15eaa075c73ffa189c69652b959b4e18e9b67043b269ee430486ede7abff4673e58903043cbd034156de9b94d06273cfd6973eb70fb5145d5a170a3f02022d8c52eb2aa2002a99e3692883ebd833fb93d87fb0966ff038770e2d9e87efe628353bc900a085386a3a7688a27a003c98ea6931a138e3a22601f2a3c74ac4bff3e87fe5b4b7c5a8b488720a60fbb4476f8342f5582757ab8fe4cd243d1a85fbfcbcf43b2c0f44f585cf3a2a4d31f847424c2488b4e1ae96498baa925c8db11e5d7b27effbae37040897e4b6d74bd335337ae3340aeb8bb6c9b2d260bb18e11202549679beda1aa3ac3b62608f6c435140d34fbb0e6aaa65d674f09d718090f51bc63caba55a5996b1d103ebafe61f3a48328f6b941e9f64ffd1f21f3f84d7268172d246a91f70cb047f76afd97db351bfc0ab385ca44d47e07df014eff417196420665c0f013051207ae91aa86a9fc3fd9fae26b4e845413111e6d9dc7325fef4b0b5924205b82e078e8c8d8f4afb4719e424b1bfaba0ece6a8174a1da064551d1a3df19bc63ca4184033571be18ec81141832cfd8d6724d8be9b9405531d6c954eb6e8904ff72027c88d685802e26f84a64a11edb6c956eb9dfa980b1954fb550f5e2fe1b8848bd45d4ba2c0603a535a93f4b3882e2c406ded162a6362d42a012240d289b7d5cbce884a71b161462b9babe72cfdaa9fee2765aa6cb486fd7d9b2bb164b07ed49260eaa0abb2272a740874b6ff7a3d6288994054c38242bc47e3c5917355fdd1e16ac6b71709894dd49547ae8b33b284f8c7b4bed3d74893aa24ae7742a1e8e0bca1ac2af957c27ec1387f4aa8c0066fac52846099dcabcf20c93277e92297d08f7eb5c7426a3e197b84867c4ae8ce8ef4828cd275dbb85b37bf52390a2f1ca9e8dd03f1cd82c53baf5f583a3c5a3bc695de43df7059c9b98589315296b57f43cb41929951dcd28f29bcdc84170f627566e88c60b882d3dea8a4e466d4e57d4fc98357670d26257c526288f0ace9592f17fec058610588d5186845596578307ccd47971aa4137216bbbb8d9454f5ba5fe420223ef0cf6a081ca7c5bce4f1ba8ca61aab6fcda334711695a264b71e05af101b26a675883fde8525e828c1db1b49a92853e14679ad4f2d8d6fb05b59346d7d332802389425b4fbf1e926ecd8daf8e0bd45ea0c002411070ffe7465b62c63b58a1248a6d09d47732f3fd008ec5489ce41fbe1345c5bb035395e55b396e29710e532ae1e1cc7187f8eb3edc51a4a08ba00c94665f80cec2964398d185cece80e889a9622b42613ffd3cfaf1bf70864494db7cbda697840ee832f03d4642b309a1a8727751670959b999770de36cd6d5d23db53e5af7541b64b0b6e4d2b3485d9559018ceebfea2abe51881286737894fc373731b813c58638ae9d27b6a21537670cb4156a59e3a59bde697107419e0f5eb52e0c84dd66fcce94795ef9a2ee2c40aa7d6c1bb45d88c99629249eb0f6b30c3c5edc848fce10d4c03e84df0dcde5bc2a2262f9cbb722bb1fd7853476ef347a691925fff457ecca38305fdc6932fba4b1fead173222dbfd76a848e20b9e41373e624761dc3e1578a22e71e60958555ca8868d8ae6ae184f52826f7e60f72a5d56676c02bb71670bed40d44666f1db308b2b4362499335ce8db2a5572ab2c2053533f2be14a2b4947145a899f067e4c8304c3bfdc79a4fe52dbe0a3c765e8f306fddba993ce9a2b64370ff2a3fdae41b4ab084ab898e345854763d128a2621890f6384254805e4b63b25a4e34a76ab7b9459d8f93b64c35c2147c8032438d06e3e5f9cf93789029dfc5f58a2fdd1e4301288acc0dece9e2ffdcc0a3028aaafe23c29dafe78c7003fa7e71b2dc7704495af7af957e02017b2634ded8440c2a6be5533b61632ae325b1e049ed73333120363427dc55b6cb47de5916fbe8e4a0a814dc177842984bc62034482f1b491c3d07528db3a21522f53dd66dc4a9a1653e46adf30b59357824e2542c7cf47cff65964b94ae59baae6ff15b661d9fa14a41ccb79e1c99df05b5f317f366b2bfb42407fc39a5293adf4bc382b64fa09158d015b6930544689642eb838cdd41f1a853be76b56f89eab3b763e4bdc102b3f6fc6c8abfa924ba5755187a1c89de2aca332e59d22a7f77671d049655cd8cb7c721a1d19000cb620986f259ea0dc879be898f7e0cbb060e35c59932c7c38052347b460f46f24f318711ac23038556e030f2ad1aa2176e5234d5823b095f6eae6fb862b9b1a2a586ece0b71ab0a30de996a546740a476fe93c1716fb30e5d3e6d660f2e4eba41d4df6c4a9ae7e7a2b3b500838138551c27b3745c90d6f7f2d3b571a1cc93703f76559899146dd6cdb17b483f5e53e6ffe8e8a7c56ea8f8de71e92c86596f71a8d1fb3635721b903e315644b24b7efd91683a54965fe7b469f72d4517c1ac78d961d56fc623c494a1640fa1bda6d3989491d83dfa20dbbdf1b975295b2df8240993d45cbd3bc9154c2fc2d20c156ef5fbf9bf3211ac11e6cad4fd9c584f8fa956598523dc91c4d353d0848bd09a4a3adecf3a1e5007dfffdf054d96e3527a4eb9ace760f4e54f056646b83d2fdc2775c60731cd879afeb5d638da0ede1da09725fec2289c318832545464aaa02bda0c6fa6739be4e1ae34188f5ac7b287badf64ac51c1b3401536127f343639b7937f1b07cb2496836de5b2a3e3d9ac3f46e22cf25f948b02fa77707835dccd87a44a663f6304290a8311f79d8ac9be53cead477d0a67e1385217d961ed5c11d1ef371ded43404166385d21d3813d35c7565c4bdace53daef719a9feccdb7cfdd512e705a7d16048b289cfe974d9b63e6d8851996bc6b8ead2a621ed4c42ebf6327bd46793e159306724c2ad529805e77ff836e6c2f5767f224fe8dc04e7265a7d3894cbad7be1bec9054b8ee10106ecdcdf9ac23ca239c27aa4cd178d8a23d72975113fbf75b19b3c98058e626d95741bb8a25a16f7722008c047977f2be49ac4d725e42a90fb4b8bc62fd4fda7604c32c3bd8d9f1d8dbc62790dc81fb76d717de2944e5140a97da9935737a8c964d2ae12a00993d9ec52d631b9a07480b217c436c49ea62f0ea777bc8e760ef20fb3988f4ed6bf9b268fa45c1fd84bde563c9f7312d37437f540fc1fb998bca9f480a1fd9740cb16ef9389b7945100c36eae5d94401df6cbeb6ed348eadc5799ebb92fcd4897825ce2c770adb4ec22ce43735ff098478906683a7e0bb5cd004011e830018bc5799b0cdfb739c0c0004248fa796b1f820ea46ca5cddb334478e6622b9ba3476fb13f112d7996762c3a45297916c5f7615864faa903182557da380325b4d9dcdeffbbeaf37bbd78ca5f163dcfaf6a56d413b1e7f7a819c466acf69f71fd663b2d8219b02ec223599e11e281ea8df28175eb411d1fa46258e8e3eda6bb0b45b61b478e79b842dd83a5750c6189da876037003b9ba5440cce3d20aabc9d708f564c826db24b87448e553b8e7a674b06eab050f6aa06359023807fcafb471ad0280af6b527d1320b6dd650845be3bbf792c3a769825e93744b96d107c8e7cdac7d301547d9e539c698b81f410ecb0214050cf6323223b5298abdb2394513a5d108422e5734b0d7ce377512ca7ecbd97f69633db819ca53e1d634c98641a5f579877f9830ec5648b23944fee9f1c8fbbbb31e2c1d904a799fb56cf157aa5de8a00a208d198a11b8dd0b4937b46173a176e7e9054f3e8e0ab72ad61d345b56c71abe3ecb455842f85df169b622c7a7af652f051f890f97e44549c7f5cfe1617015c5e9fabc60e198947bf4f542e87933e6c04850456fb9f0ec27f57a0809b71fa5485208ee7f7cee1503e35113a7e226cc1310c46c7799593cbaf82556937bc807799aecac29f5cedbff88fa163a3648b27a45d269265fce5d364278008a4e6410ff71fba8d4a241d768b72f6f172ab7d3897997c995dcb7173d0881bc3e3ddcec180609ac4d39b4cd1acd246f58221ae600a131289b8b84431390bfe68f2b6acb5fdd0d6e3abb2999e30c81266fdcec916502720f811b8e1719d285d68949417e36a082795e8d3d0827288e4389588ab9e169d2622320ce1c006bcf29cc14177b198dcfeb5a77b23f561209be2686410e492bdb979b34ba1b417dd4e5a01f505474b931863934f28ad673bdeb609a604e32b4f53eb4a2a8afb6895773759e919c4bc2f6e87a3068ae42f501285c259bd5ba373795ec0e971e91d4c4e7ec8a502da184a14b88bf326aaec73e8c83e2ea48872c4f056d1b3fe452bec1485742429d099461c52a01b6b149d37ff72cd00cc557b10e59792efa759a4c9370ef59d626fe7c4ab78270621049f1e3d414fd53cd26a4df52d89091330aa802e3dffe28e6286c25895d468810adeb1cd0006b6fe667e832646f848e2514e14860b6b6641070d68e323b9ca1cf3f5f3fd32e0d4a3e6e7669bd28688b66d400074d5deef2c02ae51c6f720937877cd7032e27cbd60dce144688fd702862bbbbbfba2338ab155372b3a0b4dd622c3f0bdc220a29a7bf8d12dd7e8d398f12564bddcfd7e9dbbc998e824bd25d53cf435837beb0769d8889dc8415cb0dd4e3654db3b16eaaef7762526fa2893d38a595e1467cb99c944f681baccb4516a9fd08ba9ef688eddafa98e522548d6f307017bf0ebc42399de4cbbc51b551b7f03419189ba36289f3708e9972fc279d62b5eaaf9d65f192cba218ddadbdb791e7955d7c8963e0a0842633fb7b6d08dab0f0ed547f19a840d202b093caabe2382f5833d01a08913f425f2297eba9e1ecbaeb09c481f88e2a46cd009a603c00290780a4cf7195ad3add744d65a8d93b53b80f700dd4627c6ece0bb6bb8a0913e132a5adf895cbf3c507cb9839d3c1cd01ab336e83b05367fa65aa701012976d75a90a2d32832f2cc6d9cae2c0831ea9843d84f81df11fe12cd75474e8638866670ab2e900bdb2d81fe5c2f7f3a2d55f99367308f9dd90ffb21b1f25d1bddf237b8522fcace3303272d2ef6a926eaf1eace43300c519966c9bd0f764733d5f11140958fc646cff1bfe9b8c0c00c4ad343b76a8aa69c0ed772516d5042fcc97f3645bc5a67b1f7b8ebc3727ea221123821b2a07e91b545ee230527a9d8c19643785cf198d29bbedbac5429e7a8e75bf8365ccc4be9b1d9cfd1cb6e1ae4626bc391c862c1ebe0bbaa32462c5a742461bee22a4ea628235b860217ab25dcf7fcc9488df5d87791ea5e69c896bf7cab742942408692048f1e850595dccfdaf347e65c0fa061526ee37298314057d6ed5f87908f0d00c7df019c353c9607f958caafa738b21f685347b97ad2322d21dd7001af53a0f22e49eba68ee5bfa49aac10e54d3265cb7de3b75f4a92ac86384f6334e5899d8de7b3d41ea32cf2abb1f264e9dde62b3959f6a2e9c59491a1bae81cabe61e85f26a0cbdfd819ddd17132b4ca43522187e3fac0ebd85cfcbb7ecaf49ce8f21c1da68d867a64ae611141192bb404055470ee365b5dff8db9c4aea2ad1c6ce9e1baf0f241432014b75e4c0edca1f56832bfc2e635da733843721d59f8c3052573066c0ed1797ea149fd710e06081a467c28ec60226e70b693aed3241bb0a89dd28118d994815fd18acd8f7d8430fed2ad23d6589b947173a7f4b514d75f04df87bc1b0fcf2ab3c08b4bf9e661f424e5f22029fd02861163226de831d2c301a85454f2b88e626c7f515bd1087599838fd8f7d2f2e27b8f6b1e4a2773eebd2ffcc47037f809a2e751f605c8fe1eb8d1baca32da8d492f26e257b0fb1a9fccc95f732b8acb724216125656cb381237edc1fa11cc7c3b04130eeb5ac0c056727ccce04ecb31b81bb3285da0554972845f84fc8d63665a3c17d7960a8ebd087be41f8b3a76749b784bf2ea12c2b400863bf945ae64da75e73fb1574475917101d63692f91c3849f2b072f29eb693a1cd635b2ebf8266de4ee9731555d73419d9adf2bccf464c0e639693550ee56955c20c45627270c5d69ac01754684028a650a2725d3764fbfc6903a1ea4ed03267e002ba25a3b6fd953aa2b20c8db2b69606bcc1d0b4e1b947684dd5593fe9d85c2890a1354848f47ec763f8c83ac232c468fcb3befd246cb46d9481da65eb5100c086e87457979a69d86ac50236687ce1f878f9fd681980eacb89114123c879e3ccd8fba57a2cabeff390e5f853e7d36e1935b88ac6424f180127ec5f7a148cf7bfb6b745ce446a8f31d2348f262beebd221b42c5db978dd7448acc41e6ed0b3454ba063f634bcea7d61c93e927a581a2e45fc89e5f2f65728cd7ce1ad5553921901687f18a7e06ec577cfafbad7719a13831655669ce7936458a5790bf3cc1be8bc5874647dbc184bde03efe6a2b18cd69a87a21f29d532eb27a615c1ba8dcaa0409abe6d79e7d9fa511a173fbf3efbd2a040b31255fdd81be8b60713107be998e5fbe43584a414c3b308a00e0985075ef95dc37435969afcaa1ab473eaef34425c2f6bd9eeef100a0a8952773eb28671c7d7dab94c3824f6cec510ff77ef165788de5f1b78764ee5ecb10facccc0709fb70b8785e42193fae63c4fa79db31f81b2bedbb1717987a34c2a319b1bed7ce789b023cfa952568ba7df79ae940858f05b18f85023710df4eb30aa5e74e0d7866593200eedd79c168fee3fb90f6bc89a16d572a4971157b461083d723420c2bda7cb00a073285b58afb4acd08540cd4d3fd919bf2c2f2ed2e842d35e43198a719ee44e3e8b8628ae16aaf68dbd2503ee95c3daa2ccd99fe8124f5162baf463e6ad7657c55815c7870b646c551b5676ec2b23ed42740cdd4c287960af085322b55b4fccb595e78e69f2d1fe2b2cb6ced586232c7c6f5fca4db3e182e35f71d3ae2bc21dd5052fb16169ffbb2862fafe82f9f7889f9e445fa8563a5b73298f5110943d33c0c49d5e612fa9aa37fc56b1cfee8da23508ea546cc9fa1e2f39f20f701d42f02fb6430494a7175208e6f3103d838d587b3c9d237bca5ab0b94598a9514109d3218ae6f7d78a74cb0cf495e0db3162707862f9f4fdf7e2b81038068e7867828f7a01ac33c8f86ea305d0afef875e7161f4b419b95274a56c977bf98153466720e2969561613ffc2dad1506c922cbcfcb7e6ac297c1a66cf949695e55fc9b4c23f7f878470d68a87d66725bc94bb865392dbbc925f828d582e4c12a92d30d5c70d6a54314c468a47ccc9f266ee3376670d4073aa586bfde938ff59198c141fa31f2ea87f0760acaa4e9b569e9d4dbd8ada8a47cd1b0d864ecbf4786d1d7ad98fbe859c6ea5a01d3bf6752a2173a9e3573d83edb9f0413331bddd7847f65c4ba7fa3ae76e420b2024bb0ae01395b2eaeca3f9417381f0d096b5e014985bbbae57f432c0efa96e71fe047aa3f3c75f4f8f4ac7843ea115b767aae1bdfe6303e650dc38014acd367082725bbc21319a45d6c695585fdda4982479a7d567696715957327bf0f6c1d47dc2d37e696753b6d09474821d86c8d63341de59e0191bb9adb75facdc5b93e652333ae753657595b176c7e8968b292841bd1d0e45e30282ab5476b31ff0446ec09a134dc00785835bb63c429fe299e52d254660cb833833a781fc35a3a828ab36539e40d7345a4dcd6bc0529b4949c99e11376a281078fb896369a36671b7b1a0d1047cd839944a29594497b2cbd18770ac9fe6d0f67800e720def662da5ce16b1800e4bbb9453c7be242cad7016fb788872c93c504c29e624acb250dbd3dfcc096eed2d22f3e7f2bcb3482559d79c017876d72dc5031d81b1e402c8ec453e85ccfbedd4dbcb0d10afcb1f92112869e8a1742d4e6a10b278c04b2f6950f584b52f8c6e68beee5c9650ef1706388a5c97202e43a975432e13d40da7733f69c066be14fc586e7a575efe45891f10a1ad09519082f486de4ca7333ad7a771081debb1fb126984b889299810b181958e1f177d94943c02da70ef8745b91f685f3bbee08bed9b6cca4b134b1ca689000b02a43d75e36c4356c52a458f8c6a501e03b9f9c64d46e6c40cd2f6544d26ff3e9bfc709b09b468bc33e4d1939b90533ed85e011decc990a194d82b0a147a089df326a1634d88d881de7f8359a55b94d5e87b0e79457d76057cfaf8053192eaac6616f109f4f39e94a3439da41dab6fdf46ae8227bd388136b0ce02c9df97f1590a9a53a5804d27e78a4e8e6810017782e97c9f91b3b543bac7d9a2d470cd11cd2bd917215c378f015ccaf474dcde8fb3bdfc6d4044a6a68edda95ac387a754e08e69a4bcc82bbae538cb0ecb3c88ae40e5675b50b15159f32fbe37556746db47615597606190d467ac1f2299404f3479e073bb62e1d0eefbe98110b606a0fe6b4df0ccda40ea8d75ac9a63f55f5d7df6fc490ba928db082d966f7f464efe44bf8851110ff9fe02d4a8efa51f86de42debc34cf9a990f5e489816f4073101d47e974a6130be914d0f6e91e9a67c1f925f0931f4cf63cc2119914f1ef3ceda47ef7f6a8e1f00b649459ec3ad678eb78ed4e3082c207667de748e9a9324649c388019932d1290989ca713cb914761ba0bf43a7b18d465b3d793d2b387e485b5449d51dea513ba7de238bfe351c3d0f2c9456dfd5651f6b43971f54a311df60323079d568f2c15fd813c15df8d41013b224ca8be694c838d5143e74677f24d5e257754765f6022ed1c6d2bbae5fa806b704c870d994d4197a3e1100f6479fedc9fae66637dff3024d9fa2f5620ccce57eb754c200916fcf33ec71e53aeaf812ee2b70a1c74c5cc1c1ee544142a597d55abf8b25180ff5d6c06b557810559ba5d1fb21148c8135628cef8510c546e885eb06927f4f144e466ebd3b430a47d79a64b8228aceeec46dadc3e2be8cb97ae51bc8287acb32ad1a8ded0bc2cb258c52df5fb74e36bffc9904c4516fd1afab74d2fcf1d1f4acbe8ab4522da5568888037fba386b08b35a16a6311e7501816a002067496cf5d630aa91cd453c5bed42802b80c95a95ac8aba8782f03aa4fab52ca9ffdd2269a01b03d35e75657c0d74f32ee3028e89fa75b6cfb5e823f9d1f55ceb33adee969f70b54528956b31762b617d562f22df7bcdbe903f5bb0d1d9e1112f283ee7143c17186a6adf97e83bb97d69cc7d950282b2392685865273a40c4f3c5f27a7f8f0acfbe6b5652d3399c18d645e5a6376d6a9513a3cf3cfe9a204ee80bf96147f6ec9d0d006e7fbf0c22ca3274107f3eec6f539d5f273565e2309bcef11308b5ef169440ee4fdf92be7c23a14ee040a801219191a01944bf5eff9d356d5a28989eac04b55430b34dafc044087cee954dea9a51c8eb9c3c1728982e9804f040d53a96840ad35f1a1a811deac2965f58d3c0f521f0e96c43101a0b4e66129e64ddcf9dfdabb5b1d06e0ad57fcb33762ebb87142c68436c7ad2f340f889a8324558e23fb4ebb4b96569bc7ba436e504ba24746cd47b50386fd2dfd5725f5e8e0bb10bad7764ab4337c1bc1c722b78973819f6829529e5f704f668d226b1ebee8765cc330f24107975c85fe9c1690295ee57880c80252c55dc235d8ee93a5bb9e2730bba630b9933c79615851e55ca09e094927078b559a0cab4484d0c72183ff1c72321ec4924b12bc5a080af8cb11f0eba4e5fd70a3057be30f22ae26dadc5f2d012432315c42a7e98d86d8781b0dc2ffc8b5af837b3fa175cd532082ff38b4b3b29c14591500381213e768c8467cd3fdc982ac044e51835683cf898783fe258532d065e16810f00d289abc90d39f02bd4b4382ced508bdddc99c42a8e6a5af71606929965a3396bb920928f5c18212bb4f895f2e2e79414749e98a76ad0c106e4d7a924138d19ced451379b7e565ee7045dae784d7b3771447310f112083c283af677fc1bb1d90f88c588ebbefb6a05d66fc352668a7e4319000f403a4c24f33308caa43a2772d6c1e4de46f190c3ae15a5176bfc321af92ba059fceffdb862db413647dd3e2f84f11836b7156a647e90c05864fa99fef420b58a79a80a9d354924dc06d094b93efe07059e470b0a6db6894de8fdc1aba6c6f8876938a0c087d54e0d81cfc38cf0e125387b5509bec2ff72e1522237cbb5e03b46eb3b4d8a26fb5be2b58817db0c1cffcbdbabae11342190584b27288d8e5ea44a22c4788a02ab6cadba7ad22a87870208b320b5247b52e739c0aa399de6f65de532dc75f48a65ced0a5efc8627bc68ee6e0aa37ff5e4d5d1df2481cf06bbdbd8d9a5094c1141429a6cff51ca7d18bb5fa54d3ae3fca68e7911920b7b936e54389e5a82d0272310f10e8cd00ae997d79047e7cba505f25bd3d8840e6d92f0b60705e46575a16c41b9f7938f6bfadbbeb057d22ba4f0e8b3349bb421a5ec4c31b753943a9792703a812d1040f23cc321473587406da0603e9eaa44e83c73b5c70d768164c04338a40387e332a5e1c2a8e6caf2b5b2a7a6474abced2479442d6dbce327c76c0a4d7751831665c37443b2227cab5415fadc919a15474023ae6dfce689f74357734f6ca0d341ef9cf54fa7100f75870d5509428bbc87c7afd46cc467cbd217707d4a7309bd906516323280f993898337cf7bf1585f622e6081f4ccec8b41cc495f6518e969c30768a878a9833faff6ae704b4ce2ab500abc398b9438372df3b2f1b4fbd28890dc733a866ef77c6b4dacbafcc4c2b59d7e64309edcd695fe26aac0d881e9c144a2be4830e32058e8f9ab10008cefaf6121c04ad71a43896a32b1a83c6355bebd24e7b2bc25ab55bc82eb68e54bfe5bae4ce4e175dae92c6767c94cccddcae1a5e945ed945f8b03a90ae85b4f7a95eb355446ee50bf7fad04c63fefd3f1884d8c685b95ccdf7374f0c3d31d2e5191283e60f6486fa076b3aef9d62eff3a9645e01745942e1af0d3b5f6018bf05c23c057595fab9af0ae841f0675258d6f80e8415747452b2592e2cb7b666668e11325a9bdacec4560cd5ca4da0e79702ff7e07ae950623d31813f92699e6f0597daba4b275152133570990ccf4113bde326bc7905fc30c0b942ae650d7e991366a24407744f2cf94af1d76ab9ea3505446cd456775561947f1853f2751d267e96b2fad3e6d135c109e8b89ce02871c36814412a5136c8931f579bda5a5599eb99dc9340af7dcc830b5621f5337bb6697a6b1e0a02bca7fb7c4e577d483f900834abc9554bb95771f16c2a2c58fd8ab471a2c3ba4c61d8e7d65d9e71ebd9ff691eb2770a2131524bba7f9d7db60c1f4cf9c9139cc096319eed13b9f26fd217a151b4af899058454543e727f4a4511ecf0aa9227306bfb4090d10d7409b77c8aedad02d2176406a44a39138ffbedeee16169dbfb8ffa9cf359c2972d313142963d24c6cb5992d0598d703f54379fc7d58302a12a019d850441ccb1395e0f2f19f7212d75e4b7aafd99eb810f6bcc2129fbc9cf1bab3e33e5db457828a21120faf1411bcfb9c9a52596126d6f2fb2483dbefbd202118bad479cd73a2eb9abdc7bacba2d9ec784f3ca1923572abb0d669c5","isRememberEnabled":false,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"ad3fd83a2ea7dded9c636ed254bf875d"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            document.getElementById("invalidPass").classList.remove("error");
            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    document.getElementById("invalidPass").classList.add("error");
                }
            });

            document.getElementById("staticrypt-password").addEventListener("input", function (e) {
                if (e.target.value !== '') {
                    document.getElementById("invalidPass").classList.remove("error");
                }
            });
        </script>
    </body>
</html>
