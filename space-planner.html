<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-page {
                width: 100%;
                padding: 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-page .locked {
                width: 1.1rem;
                margin-right: 0.5rem;
            }

            .staticrypt-form {
                position: absolute;
                z-index: 1;
                background: #212121;
                color: #eeeeee;
                width: 360px;
                top: 50%;
                left: 50%;
                margin-right: -50%;
                transform: translate(-50%, -50%);
                padding: 2rem;
                text-align: left;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                color: #eeeeee;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 0.9rem;
                outline: 0;
                padding: 1rem 2rem 1rem 1rem; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                width: 100%;
                border: 1px solid #616161;
                margin: 0 0 1rem;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
                filter: invert(100%) sepia(0%) saturate(7466%) hue-rotate(299deg) brightness(123%) contrast(87%);
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #eeeeee;
                width: 100%;
                border: 0;
                border-radius: 0;
                padding: 0.9rem;
                color: #1a1a1a;
                font-size: 0.9rem;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active {
                background: #eaeaea;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
                font-family: "Circular STD", "Gotham HTF", "SF Pro", "Arial", sans-serif;
            }

            .staticrypt-body {
                width: 100%;
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1rem;
                background: #1a1a1a;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                width: 100%;
                display: inline-flex;
                align-items: center;
                margin-top: -1rem;
                margin-bottom: 0.5rem;
            }

            .staticrypt-title {
                font-size: 1rem;
                color: #eeeeee;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .error {
                display: block !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            #invalidPass {
                display: none;
                color: #ff5555;
                margin-top: 1rem;
            }

            .nav {
                box-sizing: border-box;
                position: absolute;
                display: inline-flex;
                align-items: center;
                justify-content: space-between;
                width: 100%;
                padding: 2rem calc(2rem + 4vw);
            }

            .logo {
                width: 2.1rem;
                padding: 0;
            }

            .nav-row {
                float: right;
            }

            nav a {
                text-transform: uppercase;
                font-size: 0.95rem;
                font-weight: 600;
                margin-right: 1.5rem;
                color: #757575;
                text-decoration: none;
                line-height: 1.5rem;
            }
            
            nav a:hover {
                color: #eeeeee;
            }

            nav a:nth-last-of-type(1) {
                margin-right: 0;
            }

            @media (max-width: 26.75em) {                
                .nav {
                    justify-content: center;
                }

                .nav-row {
                    width: 90%;
                    display: inline-flex;
                    justify-content: space-between;
                }

                nav a {
                    font-size: 1.1rem;
                }

                .desktop {
                    display: none;
                }

                .staticrypt-form {
                    width: 70vw;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <header class="nav">
			<a href="index.html">
                <img class="logo desktop" src="img/favicon.png">
            </a>
			<nav class="nav-row">
				<a href="index.html">Work</a>
				<a href="ideas.html">Ideas</a>
				<a href="about.html">About</a>
			</nav>
		</header>

        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">This page is password protected</p>
                        <p></p>
                    </div>

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="ENTER" />

                        <span id="invalidPass" class="error">Incorrect password, please try again</span>
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = false,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"14563bf54e6f7bca0f3dff556b8546232e1072f9571ca792e20c9bbcca421e625d2f4290a52f828ab06e3edd107410ef12510cb3f3330b07f53ef326c93a3e7bde6df9cd3c1b6a61185b1a857102f445a6121aa1ff7b9c10f3292fd1506dd523759c65c645cbd5ea5a32f84b3e1d7867b6b03d932841984ae257cdeff8c2a92656a241e903f3b1962cea21e5c728867164f61c55f2ef1a023fb8147437842743dd280c7e10cb40b388307821261c6c2210cd43e8f87ed2d48cdd9a2b03cfc94413563507060624386f4d14404ed237a0832787c45ae7485d2628c40917f769fe32701e6bf985281424f99e2d3685a720e22f410f55b29ecaf7d02c5ff0fbf5173c12af89834a71e23410140e80dc029c3d3f9e12c4d41b0102ac1b6a74c9a1b190aa3f0ea8e65b2f87502d379d61cda69faac66e0f51f83eeb323f7043ed34e60519e7b7e576984cc39bf179ac98ee25ff332eb36a680c329addf082ae400d6691e8646ac878333929e387bbae9433266323513f87f704d03591b811c2a5f16cd1161d9ef0d64440c8642e7ffeb621f6e452b62b4ee3a6c67efd9f4f31835cc18a19295a93255a00ca79fb526be43adeb2d45d1d1e0081f50eeb99c56fb685c2da878d8a88e0c931d6dec14f211cb4304814f5327ea3c231538b266f6bb2f808e640eef6b2aae0e8ba73c376a64da36ee3ea77addae68d8ff9d9bc8cbfdec094c8fae591f878e302160d63da9a1623ee928faae7e600728b8cc1d73c565a64e79d3a096a7c4691893eec38c9a31196a58fd6dd08e45fc4c5eb51628c850927b0072cb6248dfe168fe486daf7aef2c7ead7aca65c4b15ab6a60e831901795ca41d63874c97c02fd13d73eeaadbc72a8ca84815d2dc681ed82412a5510ae6bcef2abbbf05b80ad54d0ed91291fc788335eeac3d5f311fd95927d60e47f89364b4a5396b997c33e7e23ac56bbf08cc91f46abfc8288410f2f901c3cbe9d8d23df58ddb9eb120632ff0daceefaaabfe4956ca56e2781c4347e0366084b194cbdb81a5aaa82ca8d56ef544f68f0c51c4adf5f348fec78e5abfaaf0e8d983b631caf0f27f10300e8d537b7b0ba0ca8b57b2f164c9633d34f801dce3a1e4940e534dc1ab0d0a3f4ecf20832ef23b33d07f00f317cb48e7bd82f4eb6d01512a87eac5dacb3305f9b9aae620725b67aea667a64d71c1db4d07d69151edd2c74e70e2c298a6906384434323f93a0ca09060adf86479068be08c3714587bcd3a5f123efafffb24651e44527e0f8782100bf142b2ac9d720f137c6b9864fffddc321db805c8498d742005f7bc73882d83cdc609dc63af768a3eb8ad0da0adac37209a4652e18aa721fe2e5c2238a4c30670a35dd59460d3b011dbd38434dd5f44c997d21d173947c0f555b4715e64cc40b7a84226113d42de607c3377a23c50ecbe70abe733aa0096c90b71af38daf840d8d9fff3dc1b894939ca20627296694555294a3b4f76060bc2986b0fd8591c261f89c4b7f9c4139d3b8ce4a5835141d7bc5ce09cb4c59b02ed12f51c9b75840f033f6b99955a38f7a2808bd92f69f74b3240f8dc81463228dac3286c010a95b1f041f516a041b59feb3e0ebb5725e22b323716b406007e8d2cf993a70590de90b6703a89b080e839964862c5d03ab738be0796d01e31d167942bad758bedaa5fb47cea89f29a236be44a63e530e68bcc18fd2e1f965803cc3399674f679533e3771f4f318b5f6aeb9a0fb7102a9c23fc9aeffa46c07e0c6282b14bc70d858a8768997fdcb5d57a365269b545116634d4ddcb3a2c726bafed0cb2ebba6eb69f51c79d40e85f50fa32f766deeae3140f032cc4058bbf8135f138e8a3a5dfdd220ad7e70c4bb72d77237e42b6dac01bc640d4111c923e6a62429a0c34b30b33a610120cb19306274e73b2a797dbb090a88ca184c4fdf15ec6e46eb9b9c0c4e08e51659c562e2b1963e5f5f3c060ff7046ae062308128b43b4b4794ceec1a619838d228ad777ef9ae63a91d31a36a40637282ad98d173d12f449564fe4ad8bd33af8800dfc6296459ebf3d6163eea05c63f8e63615ae2c195af8f66cf1c7078a76dbbe889e72bae7f73f438fb4b831c494b70b357e47f1207a56732cc7b137dbd13bfd3a25d27baa83ba802462de70264968b538f615dfb42c7132eab913c73c77c6424a018db1801108e5099e2e60dba647896c42514856f10ef8c0378125a166bae4f1c4c8ca458c413969439229cd055e86ede0c974a085ed7833b444fc61be0e418fd9846284e518e8922accef24130c6e5b35d321f6b14e1c0985e23647e2f8738c3ef6053288f7615f329cf6397409fdcf8b67d858c510e8a77ca1ed737a4a0a8fdcc9142c7b001914620b35e577d21d4ad24fc80754c06694ac94bcb183f82db0c1b223714a083614cef09248bb12c738256bb8b10634fe03d48759fc5b849533bf564490409cd271fca50e8ed5a6304479635fecb09fd41096349c59b511577d4ce1b62e51b6b6fae74aa16a36928805650e3deb12387220e64da5ccb0738dc49957fd91381d7d602e173504e263cebd775833c95d845d3255f52f42070fbcaff01c4c1392f34184c1a0e6719b61db3103b18b05beac2a434ab3f7f94f1e9b42811f56364bba3118dfe70b01e21ddefc68a894a41f843fcd2202e7bf1f8431c95de987aae22dd808b1ba554b960a74774585fe4036fbf4622537cc4d0648fa56df2a5a746bfa662550360ddc36e18c7ec5c9a8bf834f8be27c0b10e034d4c16a7c916bef9ee478072c973c8196433ab7746f9608da2370da89085301a68975b156841d75cd19ca377d08f0ed8d9035d738ecbe4d29011922856df87dbe6327d9ad8bef33b54bd49e8ced1c269d68a711195e2c62dde392e6b9e11c44ee2ca29bea6481a8b98e7af2c0d73fffb12757f3bb3f37fc47243ffe34c5b9bf2734a3a5640423230df5bb4178323fb1740d1dbbde9b00f51de0144866523c415800d7e0ca8e5318705e69699e8a872116336b479679d2acdba22378939e643986f27e06ad2583aa615b3583a6addde5f1ef98a832e1c1cbcd0e41d348dc96fc9061da559cdd6c552fd803045ce3837324d6545c97daf9e659b0ec43b86e9f85a53acd296c51b588e5b3ae3919bd72515297ba3ac4c01372fb0c11325329c84b6779108a55dec077cf1cf81f3f1e22b70d55578f3606a04d1c68210f47e422aa8bbbd29fd69080d15d3cf6a565dcb1b70498229e720cdf02544262b52aa923e52bf9e7cb10273ab08e8b79d86ba83e7121266af6df108d2a01457263dc876206c5d915508c503309237366b88d9be1c77b218fdb5d60113493fd29f525483f1715932520667860c3969d469fd25dc9c289d7be6f7a0ad726fd88ab5590492997271558e1e221db6d5a9b92e9102f69d123b9ac4bef439a3340c7603f47ae1f681c5c274a95de25310d8ac0ab38d4e36034de2983db72a1928e831a30fee8585d4a259745a560665f239cd51a6f9270bfed1d02c25ace4829dff99e47d9abc7ae7606983c7f442a5f1c5eef7df1072cb76cb6813514be06a61b14785df86c642706af24e5fa7c8d37c7f9868484d2f30496b3c969716359afbdba1167a60cef39770eb5c2fe7f138e423743cb510a93bfe956126f5115d7f054ae183f453256580914fff27affcb2d8f31aa1ca25cf4fcf736ce3b083970c34d3de13539f704fe4cc0c3b0e12e6b9ebfcac25cc499ca4650909c49ca464f7b40481f417d65dd49a0dd2915478b1c6cbe422e4bfe43e2c9cce61879fed4a09b929128a064a1dc7ecac16fe578bb1c65e46106b020dc917748d088cb4faef12ac7fa9e12d3b83b38b57f7f09244a1286a0c936631087345bcf3617acc8028920ab5f9449d5a9c11bed2c659bcdacbc9909ed9a6eaefaaf2f5b2421302704b57e6db36fd0ce76dff52cc15763ccd61047a03319298868dfc2af61ce5a530d90047e28c2d34c950005fd7929219b717b6f798b3ec3a0af0e91e465f6a309ced48753f948f5859853af413508c83f5f6274a806835fe3a20ef74d3c1b3e742b375a7d44c21d0fd01a9e2211db87faa8fa3f6760991a140a18b45d4c19ff6f54e9207cc5338adc30f24c3ba37a5743cd31b77f05c3145a00f562b67261efc12d26fea1b5e230bc97fcb5fab325c36cafb5615c4b938f91a507440d3362a65dd20090348c510178cafe42fc61d55f63707844e62901160587ce8abc28c566a15b9698158af6fa56e663c3d073479dac225b3a89bf4f03be12398161c9ea1c9b9a90f2136a79be3eee6c54fcacd3f2a026f95d54cfe44c3314a3025ebc9373d957ae58dae6f016e12be36b3aef00086ada25c545d90030faaa2cd8fda30527d11ea1c9b5c3519de1b7acc3fc55d47bf4a1f332c81728fc41a25138508d8c5bf9da436fe4e458ba1e950648e6385f90e7cf446fe9967b6f094d70c55a52950509729f8858482c710077b3f0d9a49ec31f142c11e3e23fc7fd5a48e8143e0514a45d6445686a4923a7d8f832aee1f6366725a6ccb86cb32b4ff9f13d889b5d41abfb8ce7693f0fce90c2a1d142883ac51ef0abb30bc7fd3e236ea38b8611d6fcf5e932fbe929fa79c21185a8f376603242555a198e970ba6cfa59b79791ceb6f4cf1b9ce4bbcb0053a811ec27b93cc11513bbd439dcf14cf2fbf5d4ec13b2d7c4d694d6ef939bc31a2dbbe04c8a10392a8caf234d9563b610391fe76e27424f4c2501db13725dd6b4ceae23ad9135a91ba89934cb4bae4ad2b879fbb791a086d886a0500c673aa3ff8c0ba95718078a78e450bcccbac688b31e89affbae08f2509a4e65bcd107772aa61aed5f390b4b94674713ecf7e5e88fae36c089718325651317ab01c7a8193fa3f23bb9bacfd9f0358adf8fea2f44da8b040cc1bc0b9eb97c4df4cc2a33362b9acb6adf3fd85e393fbb4dcf90c100a4268605ac775a7e878473ef9031437511d7caf6ee294481a5aa936e8b95521c3e2945df807cb2e68057b66c46baf66490cea38602c9c5e549a8697b8106351e994e1860bde6b377c3b8180b1cca3b2cd5e281fdba06768ec61e46057c433ccafac00a8de946eacf464ffe78148e6c1365f6b3a72427f2703638477658670a8cb4ae891859f8c57a06355bc4d1c5f58bee88225fd4b2c634f4766d0f4e0b089e5d124c1e6b234bcb779541321cbcbad9a3e2ac053e14ef631d53940ed8da59c540a7e2d70862919ddcaef43ecf51dbd82f2f56d4ac4934760f22d3a2ed60ec3665c86093c42a03d4917a6fd90f61e525ce6d9b32518ba51d92c4a0853c7003a335f75603b42cb5153a97e3e8a56b73cdc6181a32a41c8f16f9b241efacb6bf4a4144403b3b620b4c224e1c8d80ba363c4799ac225dc2f82dce1d610208563cae8ee887c1bde7fad2d92f02bc7caa2c7549ec7325334a46ce251ee935ff7e3e81a76927d9cd6f40fc432339be7e69727f78cdcc2fb67976dd6841ee6bf6ddea65f887a4d62fc1a7ebda99296e7934ee15cf1bd75576d4cfc30e888e48c1d3c4689e16c4268e3d8e797c4e7c33fd70ad9603edaa5785d80d0963081590885797b239f9fe922b91f002e88989075fb8c7ec7d2c112c6b63cdb697100d758f50a446ce5adedb8e80158903cc5d7fdee236cd24d9cc1bb152d42ba3136470e058e44ba1aebf89bb2a8321c52a91609d67ed05b047eff5b59c4291b1252dbd49723cbeaf75a20a0498f8b4bd4e993e3eea63efe1a4e5b98df0591d5a2eb6c77a09d19ad4afc043767abf22c5e3120e132673b4053e99d0abac991a89cefefb5e3c0df9293832e466af8af355c748b12f147b3ecc1e2c6809273bb35c5386af101ff7628f536e894db08e195781a6e39245f13ae95e2aaf42af4ee441b5153151409963584ced108d5d50306d92ebad96fe8c557556c18e52e6ceda789c5615014d263ac97494775a8ad7f84c8e02ce8ce27728e757d6049ba8e8030f6cf651640406a6340da1daebbc7631c2dbb122e8f8cbed851e83ddfc562c44fa0cbd9a3c5e9846b28b070ae35b9d5d196081930865c7e9c6f0a26b039bc7d73e50d171ebe88ab0dbb6252cfed051d1b3c70ccad1b13b609f8abe1d2660084abe17f28a326b1b18a95594e1305f683d5f54c6d686d8196fa33f454f6bc4e6d934ce25d9cb407e2f7c5a11d2268edcf304a88b12855a9493d0c38e6cf91a7e420f98727f100d94c58ff5ae8e2d2c28edf48543abff74194c06fffafa7e00a455f169257a3ae7f31f7a40ce93c99cffcbee3ae3d72cd555037a781b9a6942546580b7b3d39d5abb55c5e6d8da0f6c4e9a493f9dd0358d841d943bb43d3c00375f2874a653a594ca626af27bc0037797812b4ed3497cc1441c2d1ec892a2815f75a8d4c191c773af3e5d6b307ff500e98fece6d8ad3aeb0e296cff053d6f0418b30afe8eba17918dc19f7e5301b96b87aec28ddc0d8571231b0c5ea209bc54ab6b5ff2fbc244196ee19b44efb094c80d0773157dd078f70afbe7535f8985a5832b62380b215f1187ea80a1c65fc4afb48533a0dd4961ff91b88186963fd628ff901c317838ae54ff1a2912312eb6527246b5159870ee58472a106063e2938f240da11f5edd11a496d3a172ace736e4eb0e45e43a88845856c041fa221a591f7d91b8c9da0c271b58b65da20a8b54c575188ed10b1770de2676dc1d1944c9c1ec581063dee3335e988775eb15f37afe06687cdc4d501a834ec6daaba8f09eda474c61e7550f7ba31b6ef471acf3be5fc324a9e926794122399eb6cb6a33f65bcf2b613be4d2f3a029a3b51d674c517feb3c98655acc364865bfabf6840db1d79f0db2d6d648d2a7fc19a7b19329fcd345ce7598637f06015858d8e964ac8672bfa3ce3a7f6c4bafee5a13c04e06f69d1b384fc451628672a29d6791939ac493691658981d6bb36808f6117686a1dbca54cf3c29b0cd4fcae652c8c0fee54f07ca394592c339f2062504d1a3e567e42451049c1be93cc47a11f4f672abf59ef07f5ae85ac64c066db90ec10e469d558bb06d876a17530c84971c83910de9e9aa2a9c8c12c9f6b6fd3ff46e2ca1d977783329d1cfead2ff33878100b1c7a524cad41c2c7f5ebfedb9a1e4ee95e78e27654f61c3a0cc0fae8fd765df349a8b53f55aaf19c797db835835c43fd6e539ab90882e2a73c22ddbc405bcc5139dc203f50681116ef47806f7eefb502a29929ccdb261964b72f6846bf8035f0643ed8948ed9f72c5d18fe57df3c3a8cce12cd15a2712452f663a7b45ec29ea9d9f7773529a602c912f406fae7f0475e56fb7c6ea0267d84f90c26aa915a8fbdf20ea8b714c7cd6a298ef8cd69f10d06594317d28725ab4a58580ec6036116b772c6c1e0bc9f4bf80ec5db0439c5b4eaef35666117c4ea7dbf4fd7d6153bd7ea4f1f449de2d42fc4d7aa050a88d5683aaf6a95cfec0b8bebb201f36ec2748a7ba6f565c9c1fccbc2e204bb9d1f64dfe7c62a52a78e5f98ed76c448713706654a90050ff0af0364b4c51bd5240c1e920e49b760f5ae4e61fe9586d94527d35c41901d0d7a08f9bc97024ffec266b908708d75f4a5d90fadf7337f22dd291ff331e3198e74d8b2627d43c185259576d58213e9f4ebcbd985c5d362e9880425e5043c09db34d191faccd15d8cbc0d1252e927512884bd4421bc06b787630ed01dd0ecf816a6f9a100b58e4e78626384404ba55fa19361803210eaf5d942a27326fcbd31d5422b13c193d9f73d0a34aa208f44190de5293aec172231939412a5e2dfa6a9816421d595f4c905a5fc12e2a5c0b93537996a9b4b6aa7a79b5a328995204d1154f7b85a6e6bffb0dee4aaffc0fbbba8040a06a2d624af66e199ca3fa41592a0be889feee44895825f6afc08f67385d9e81f3ad5e923574edfeaa99d463ed7afd18b38f52b3fcc53606c7e544c1476bbef3e05c332b44c6f02109b7b005a742751f59394960514344b6413b1b20de0e70166d21b7177076c6ea048cfc8e6d710bfded95c1184ba596f8224286a0d225825adeedc1c47180efa0b4dd5334bf0807e9d960ee20a529902f7924fbb5a531e3ab1f36e97a90be0a70802296b90a0cd0c675342df379758df0f0095aacd22448c128e4c3a09a907c94d6972f6e97f8fb9913e353d137eb2e67146341b390a17dc68db6e9801209891cf0a1e742b8d679173369ca685d242922406cea508aebb34e8d63af1fb65a36c3ffad67b8a20ac716a266ebc24ec49ea5ccb0d5725b39d002cd435e0592ef16b65b84f8d232edb0c07d40027a951b257e48ce921bc910b2b4b1d6a9b8fc80b1dfba38c9668883cf7287df0e7af34b5604ad14c48a99d81c096c187d68688fad2cbca4196fc785208bb56946f27e811bae0da407863b79e6a51d6431becb46a96c2e99bec98df2b3d6bdc202249aab5a2a2d42ae5e8e13c5af68c14c6ac7e3f33d039f9d50c95dfa283752926ce96f7ab1d97e8352e88cd8707d6f717a3fe389e46f4e4f35337643c5b8c09f26afa5eb8c1f202d67a6d5916ac23ccfe73097b1f61d7ca51c6e38948ee7f11e9267d3db31c70ed8e14892f534413b6aed82cdea6bd3eb2ae39ee15ad37002c2906f5d4d926d432a976afb6924f3b05178e9914d1d05f11ab27dfce77b956dab1fd24ed4fecc7a6edb4b51ccbafa4944efcb99258c5c5b659fa59efa8e80222029814193de13e29932691afaa654bfe8f41a1385f6c721728ec46b40c2bc07a545e778dbc3894dc38b958af4c70f503a7c434ee859b3d11bf5ab5bd20a09e96e4cb2bdbfe756fe302f173b4e8809539c8f6300eb8308b7d0b6a0118c2106a47e0f3d144896d9c4ac6a2d1d9bc018d98cc6838a1f6e2d56156a26b27453d3d0cead773a8f51284116f5d60af255b97e652075628cd549a757cad48f16102705e05664229fc9e54c9cbac3251bc3ab87ab4aac147abf142df0e35d0454c0fa43b3f6254313fa7c105be724f17f4610f07aeed61b6b7ba4957db079a5058550bf6cf0833ac76150d1a3501f858a46a6405e51b8bc4b3203f6e2d685684b031b17bfd60df1ebfe498db12d47b12cc23bd7d377797bb44b7d0aa54846a5c24e395771067531767d58c16c1d3cb17eed46f28b5f1ec8e377c731d95a74a7eab61ac956dbac0c55ab89abed8b69ab2f9145420e1d0c523b92acbf9b63e567873b393dff76a64cfda2de45267a01d3f2f53e42156eb4e38a4a22e927e6a554c838c041962a0106a27a725037850293459f62805c2fce2d933add77ed81a9c08689903109c70c1dc8333b17832de88896dca4ea0b29be59b77b712b8533d158d7a026d2e2b8d8027d11159894962317172cf7210637d962762f43fead0f1da0ae4ed89169da59fb0b579c957f63167cbd4f798fac58e37ad005f4c7d6fb009ce4ae5f6647a141bf943c2e7b642c9253cff74bfd444737d7abbd8c9f64b615ed4f7bc2a0ce222000c83b505cada770a62a73dc7e2e67535414ce91885d2dcb2e1a0d6bbdc7702f629af5c65902816464147ab1d486910544f7bab24aba2106dd898326f840ed33746ee91e676d0a2a9b8128d6eb8fd1ee1de36c8dedf9b9387eb76636e4cb25db9c3d2fb8a4061deb3883bf83529ed9e0d597393d6dcbdeffd3ab16f73cfc099c53190d155f9d9d716dcf3e0fdce75a20cb684d61ede5bcdf1d2d7eba9a8782ab28f57132e3a7054a08060181493cfc9892b834bea5f721604f75d39c13b1ad114a805f2db1a1bb861d4f41c9379ed8bbec128249cecddeaff00f02e4772a154c0a0bb657df7750e60612bca052cad6ee59d238617abdf6a7c01443c5b36496df32271d02320966442bff2c0c3991bad2fa84744d56536486077026c2461be044e4af0e7eb48d14beac9169a69281ada323ca7bf9aa60f200827022638e04ec0f5deb8a020a238216bb545e03c6d2dff00afb05d0df8deb351e3fcaa36bd0da5b63c4d0c14ba57882895eb3a655c1417361ba67db9594f69df50a219240e4ac6cb88bdffc7c32b708258e2726e25463715203d11ba07d21a75c70135c622bf3e6de8fd80af07d83ed535e5f40430afd70574a25b26d640325ac92a8da2bde03e4992340c1594148fe215bd4aaf513ec0b592c08e513c1fa34fc448996e514091aa70eabcb1f62b422635de28e7aea80b431ca5bda9c446a3c2d11bf7a4a935368475e6dee20a2cf62b56d78705dcae217fa5fdbad06ab844c0f38f89784c55279869a0c0b1e843a3040cd0f8635d6371744db38d6df2f0bcf82f42fe17811f1c61e8f5eb3329756cdd0586d367c6fb06f818e9f98fa21fff3eda744057d277e8a31294c34e33ab4d5e274570fd170df6054e3819b165125c292c44da4553376abad1c893acfc9e91d9f078dcdb3caf42038a680d300e74226b07ab68fac45c9d8e1f7057b8048b176b416b63a0c8b29e1ca7571ea29f35a10a876750a746d94d3526238a9fbae17934ab9c3007f8e14023762621589e3f8016226b236d194c8decb0e5c2ee07b1452638b2208f62f511cb2a3d5c5d2724bce4dbd1e5e681f36937bfea568b77ff3d6068bc920265905d0ba34052a62593b041a18fbd189aa4e5f8e844a2f1bcc3707ff92b877f84a115078d7668b4f171ce733fd2c49b3fa6f7e39da4472d79c9752e5c767be6fe91fd5e4f5d8d237917a174bc45817182f27e06d2a67f55357e2b4aa358538ec728c16325adddae70034bc4a3a40a6c9454cf87c36317bc82887ff6ec71e0771d16ec869de04e45cfd1fc6abea537a24cb81c0a5538bf2a79fb9e24bce38a1e668bd10630dab1ee0f42a4f6691f3948ab7a99963b86b32942ce274a4649be3541bb99c8d0cbf717b0dd4c388e1bbf219d248ec9c4cba479f3fa2f6b1644c24343b9b7c37bb54bdc6ceff5ddf2c878c9e65362a91958c46da221f88c2af652d2bcb6ae1ce261602c134f5b6d4dab07519acafab87fadfa0b0bf615dff7e1dcc61195753b0d4e249e7010361b2836c3e48c1dd8b9f917d0cb99b5994990e66af924038852900b5b4d8dd4a37de185091613f45faa9fb712c6a821abb5b2fe76fd2f09c042776497abc1bba49ecca1a194f2a19c53424e358fbfa6e96cbf9d87108b25eaefb99bb41818d312ce384ca1044563a9540f150534ceb896d6db77aefa02f1212bc3b8ce1d9b3f876b531d3823fb938c810a3596e096c6801415ee6ccd1650946eabaa881d0b79118c2c02425f6a2f28abab09f7e4c4e2e092556f531efb800a37486ec968608969215a030dfda5324e83208db4caac3b8acb444bcc25b9a74cf745a632058adc7c5f765dea2f35ba3b1d91ff5f3b41cbe7c4bc6fc0de507b12de9baeae25a5748218fb0750732720c0f11f4c3f7eb6d1ffd9378563793c317ec6071ea08b40fd7c8c49a1cb2bed392d1ff5c9a77f67ddbd21939a413da02ffb4f70113ae166f3506127ddf21b3c5da3642097731404fc74605df7da39747db596aca014e641ca61e9b0f1552360266aa31afd1d03d6731ac4e037c6f21f0b35f207a588f7bf6d2f228cad5fcb887a09ed5f8d95f147bacd94341add3394e1e04f5b4910b39284fda7ae39cee912a57e22ce152c4b9609fb7575d564737f82d9afbf84d40a8fa2c4a0d6451b1b05cf2fb010282b1e7297a3646730ac8358a15ee4ca01567cf55f0fe08e956f1a7a82f144b111014d791c40a37290a515afde44d73586143df31200b0d8dac155a836a305d526e1c7f98af4244893256bd1d75b814b23ce5d971c6c3140a17adbba3641271504ccae6455e46b3da2e7bbeb25b18e7457f3b8a0ed92e0d1a5066fca82c930bd12f0eebb6b9930d665a2e2fc7a209ff172d444d7ad2eb52a035656c1dd06c95c832732b6aa7b5ddec4c80f91f2c261a2875abf3140a4e207ca24ccd3342338249e59ab278cd140e9c29473b64cd9d6a8dfba3731abdd605d12a52a238a5028b08fb524915acc863b1f53cec92ea447ca1dc97408274ad8c06188d0cb318590ee01bb527cad6ccb9728580ebf22cd83c36b9e2ab3eac6e42fdfd55fa20249d016f919dc8562670f25a98f6dd2a2c240e437ac75f96c3fcf50a831df6e11922a84248ab8781b1e6a6e0e32c756a0c656b7d5e957be5c148a046345511c711c685ce45276146639bcf4c0030c0f71fd7e7c2bc082007a3143802c3fb206298f70fad55bf501c025eede6db9952186cadea430deff3d18a81b02df37dfc60476d590eb2f09046707af2f534dd6fddca17173bf986a707a36be4f323794738b98511b0b203a4c38679caf917374c7fe0967a3fbf9b1857726b3460c7488ef14d919567c14824124f42c6d4a2bf8930a5c93d4fce830d45775f4b4ce3a24a17d94bc454fd6cc45dda832d98f1165075dd3fc88b0f55407241cfdededa097d28609f786a7af195eceb4d3c13f99741bae4ab17e03a137492f8c13c4df0c5860c22b47e7bbd287bf171366b5a1ca62ce232039bf79e872ddb7901c706a42e9326c98badf8eccdcf83d30ec897d1367811abb38b72a9896d7717caf7217a3064f3dc9c518f3c063dba5d49ab64c3f4e07a35d11c7cc8a73b8d28c623d61eaffa8b993b915259e451b0adc8046669be295d6a7b46ee16c0cfaeaedaa689b3ea2d2cd66bb8cac577442e82a26fbfa20e453237c24423a31678473aba4dd9db4a42941c8468bd09bc2823a923fe9254b619a0094eb646eec128df66c3bbc215a9a7400351c57f048f0eb3d8ef942bff91be297bd34d8e73b30d1654112ee4cf5aa297b482aa587f8df43ff84848f63f8e1bb0d67cff46b922a70b43e9af16a74a07d9a22902f2274b355f241c3c1b0538e77d991dc590406c47870170df12d3401fc188d706b93b40ced51655312de47cfb985af4c2c7c519026c261699665b33f82f5d769232ad39176a12e166e478f74666f53769159a320e0999a25d826284091946224a305caadc74b57dd87f8f5cf5ef445bc165da4539ada65bfc01b7b06eaa4ca37dcbbfc4316d9be4ef8ff84bc20cb9b746c2c3d734ed33193a882c074c919a819ee9415e8541dd1530ef6d611611323f47f63967120ae1e5aa8270396fe88c39b5ed59df7e9dcd7f746f50112060be144cd166cc4522f22e5a7787f230122be87fc1214c33e88368163552f9fe0be91e38bc89f4ac00c3275ca8e7e3dda1d016a6b0c87abceb2525cac786315932575493f656df5106e24fe2d6139e08fd77a2392f593b7885ad333c6e954ec6782cf84abfeecb581c3841c8cef86fe93fd5c100e67c905327bbef0c954d4c500b13ac9d93c1c8a5dcfff79a6b0b15a81e225c32fbca403e9196c6bc2498d7820879fe5f7f5b2789baed84a94f3d8a6b184adaac0548851cf175182ae890a31c75406de22763fb984ec20544e6c7b73ec8a958d0334241f3aa266c6dbca2997e94beb2545c63a1bde3bb562d16bcf550dac91d4f52b0c47b111967a2b30ea29624f1a395313378386458177c1bb1d3e9369ab64f06e50d4c4565447842a3875d0b6ccf044386ec246345aae1b333a34cf21e6815cc1b58ffe3a9656b684d7b376c147c4b5e20a3147bfda142f687a042ea562cd0e421e8528982a54e9dc06bc22216581795cd4daa825c4aebc713916d5e270f1fffbc5001773649754117affe55a7da7688bd6cbded192d72960aba862fb31e106e2af5847aaead79b5ee05c97d0835fda91d6f151557eaf9dde75a992797125402cc9d5c1a3fbf6016040c86bee39739e7ee2b7a2e1bf00ab6fe6fc0f8a8ae5628218d8aa181fc556bdfe97ec7f011996f3a301a4841c78f25a21698b82384a96b12d918e52eb0024aa1e2f3b7ef9f5f57d01f4e286b989b3ebf562074e30c2aa961efabb88beaac2b2c76b418d64c4ad9fe37d5b0d36961d979a3d151c6532f648d726b67bbdca4f2680250a2016fc7133ee5dcf2368cdfd652114cc44fa2caa9b2c40f7d0dc6c7565fba2e87cbc03e265988ae941c52c7c5bd7259b81195ac840585955df32e1896e605faafb861db39d837ea13a23772f0892fae4066f029d789bcfaf10257077de75be57c6c61952c688d93b5ad969aa64c02146e2b11fcd9696ba623f727b52b90fdd464777d7fcdc917d2d3833e86001d46ee10d8586e6acd690f115b7f76c8d3fde76aa32eb00893a83747ca121ab3de6383667c5175dd63b46ede317926b9564972c90f9b8bf06aa07cb5aed87074bdd2737cca1efd1f490d94536c2535b601fac5901380446dc159b86843a516be7adc4309e99a6ec8431ed821491c65daf65ce8638b4c3f355b953549f2f1bb6df48f9d85ff915289cd50b4b5e2d97a47065d4c220bd292be3de18f95db8e1ec3c76a94d290bf4a470553a1408038bc5797948e8974005b8b5fb2ee10b9ba9b5830108e942449ceabb80add69662ab164f8e80127e8362773362e34db2b54338bf0319ba29586fdedd1c1da45961633e7b2a34aba67ae638f78dd639554e6030b02f95cb027dcc5251140d143001852ee09c6de5478ccdff5b308b4656e6570e0be3182025980b8ddb98c62be8891dc8eb0c6eaade4787451a525fac0c35d6b6edaba3278157e1f4306f28261db1c2f99b034c1fcd3b0f6bca29b16ef7322d40ef7d1e63ca13f41a3069686a9c9b979044c2e9dbadac60b45fffc586cb3a395b20cc076a3f7864c61c3d057dd9057f7faca65651a0e2fe65996bd42e3c365183618cb8b57db30de89dd3ea1806dfc53e3c1f3101d82cb2b89edbc56c2776970231e0718e2579d70b9196f43f3094f4bcb61de3f7a5e58ccdc97e6a57454b1ae2e5cc2c164c2ce027f870556bd2f439ebed26d47d53f146b61fb29970554057e5505e9a007029efdc61710af779cccae1b2e5758f527e4823e109711a191c15036ec7d614995c8143b225f5ed41d2c264c6aefee2851a6babd2501e1939ae641bbee8b3d6072a9ae2409bc1aa11f205a379ae2d3fd9c57bde63b70dc6f6c49b11c82a2fc8eefb0dd411899cc132118b794fdf585c80f2bf5ef3623e02118c709a6f0457bfc607cd3ef0e750942aa301cc5540a5725cafc5ca942f1dd5981420dc8412c828144d672bdac1dc269230f84e2a75e90d43c860a7f46c08c5fe0c03f6939172ea344f058c05cae54e9aa1bf5706cb9a0ed577b3b289e3b9302403ad72e61ef90834debf66b5d37ac13cfe2f8e0dae9451a9a80d2ea0c2564e08f0be53ad7cfbb7ac884482b28560877bd2259ce8c8167ac8059efd7dc82215f0c8f6d68747f2ae9ff5733a5e912af08e2fa55fe6cc832a3a1d90616637e0698f1f6afd3330b0cf3bb197825452296d61eb5ecb02e3ced91e4e92d2f4c2a4b115540b4cb965c64e146f5698d053f797efa7a35ff32a9dfc7e55efd6d45108fbf2987e457665fa85fc04a7d23e33a241cfd7175b1a87eb9d1431c12b7c4fff3a037d5b11195e56065a2ec1637f7bd411c28cbf763f060be3ff75eed0a0f7ee47ed14829775642fa453f352edc9e836ffc1e44501b3f100a543db57c1869dea80b023f0ed5b8ca0d3e72a0910fe2958860d81c0e39cc9d8db2db73acc6d1cd1c3be26aabff200034ce3f6c27cfa4e717333059b3ee997ed89b06549ed58b64c47d8f4d691c3d390c8744c2dd9b44093b1920930b8f1d85f8365aa2e2bc7d83eeabb230d3f74136f6a186bc4af66c4a945be79de3cd9f510fbc20e75777b31f088e19eb6c1e4f38e18c02bd778bfd7cc3c39a403676af72ebdbc8bb588c3c9c26cc85f396c6784cfa0377c9ac7f50179e87eadf8b2b421327d1820752a5fbefe80e43ec0600f5002071b11520ba35712d2f9c81eb72093033331ef00b4a314b5649bbeb2e98ee79ea463ecd363c5c13a71ef057a3a8c8cc2d064b3226da3b423a9ba0ba5808e60c141fa872abb8863e5b27655c8cb4d60abf0a03e7adcaa04aa3c764577e4e5e3a184e0d40810959889879452bb454eb6fd9a997e59713302f25156befc33ca5c8a648f06291848e1f88e1b8148ebaabc16f9795ed9e6089b886fa3fbd6d5900ed2d535385429933da28bb4274eafc438788d9a4881c9098dfd57fc4f5ebf62c22b7121a7fec3434254e39bd32abeac00a2ff80a4e2a5190a96d6e7db94b0678fcd999a3e8e800a4cc1c9ecff8110fb854305acfd32edab868fc42f640b0706e72df98b4a8df79adc0f760c84630cba8f5a836d7eb289b29d3a3f140835e57bf5b1284c82d394829327abe7e90b3614e3c550071e313289f69aba67e8242b30aa7cc15532d6208368fe1f1109bb7b823a8c07e1c0196156c893da79de92ed01f5caaa85ee12bec1767fde402db133914f7138d7c718a1f5e8ad7de8d6799846a839091b2262720be0742665fa46f20fcf2f54adc12b8d992b71ed3364f432163085d19b230df0bb27d3e1b416c8b281b56985853ff12aa1c7b2e4c1c86f64b04e09da02553c2938f50438ff80a5c961b6f3706ff941986f58092e285a4640c3e084b78f6f470a846076e72c58f7b3e7629abcd1418b3f23fd066b4df227d3765d4d6b20ca036107ae8dd7dbf6c2b0ea30d67bb78aa359cdeef1ef1fab9cb0a735e461e4501ff1b6cb06d91a14f3761cb96daa48f65d1fa1ab891d9f37e60c31453d8cc86a969753bc0ff7fdc20df6b64ecdf7c38d3a5d1641c9693bff2ca165cefb5f265c03aae96431f09f3d779636fa96857c79a9e94ac08280322b8395088488e55d5f79c3f9c6c6d12a21b3de090d6f8051c993ab9f88f955dd30233308bdaa5853ba0797b3f30cfd17f6a514f9d591b9fca776a793f2d773288d1dd78110fa7ea60d52a773fc4c5c6097dcca7ffb07209b28a9b4c45a97ecc5a5e14dc5e8d74c332d8c272a7407c147fc8431d5ed3489f9125208b6db048898f111435020dea9407efeacb14f79bf22ee20b7f889b63969a1b81ce952c44a731b11b92ea91c2c3e23d5992b315632398beb551a91d205f8dd7ac96319e4d735069390fdedde04004002885effda5ea41d067b59d9b8a39fa80810abbb2cd0b6b4ff71e29263e6bd29defb75825b5dca0878f7c618cd773650e1f5bf394c8f25ab2d50447ff31d5b8cac2c0b5bbdff00d521c8f1a3751dd71a6315c2dcc365d9910715f8ae181cc0f4838e23860c2db37a06e92d4f1f629836c7a7f52e928cabd9496a885fc6dd0ce94556e02597b93e9b8186afcb8dc1cd5e40c69c0af510882fc4b560e830034daee805bfffd74505068873a98cdd6a4e4044656f5a3225b227bb9956b667169771b602f3b9b904508163d1f0a6ab224f95dfbe0089d91e51ea511a553d14940b857a0e2ad31e5227b27f7b595bd17071a10dee386e4ba94f7fb79a57cc0dc607bb78b169cb549b375d4650c8531cc09ceeef89f9903517416a5810e529fb58e9be361c2a27ce9a9033196f0ec000bdf2e54cc4993814cfa95709bfebd7ed574d844e68e9a233e8868191698b049c90e0aa0ce586f5fb1d4714d1b4338c1b6c9b7433fcf01455b062e0972b50d40047fe25debfe84097fe7ad784ab27808a36fb62f650e86ed96be94c6f11713bcb227ecd62f82f2ba4ba86d17eb33d9d7293dfc83c36c9f17d9081067267a6948164e690cb8d66e8df21bed21a5ceb225e53784e3c1bed0042fdd87615444da71880015a6d4ccaa39f206ca10c5f361b29f624aa647ea69ffa1f5d276be73e617bb70889253eacd927bc6b0a97d00f5ee1c0d618f6b03d7e55f0e3f862256eb06226ab6125e6ff3ca1b609426009b73dac9505f0561732f5c0528abf58ee1ab44ff526a0e1479f67b69ef0222cd8cd7578b2c3d5a4580cc4b87f1971ff8e89baca85eaff263f55ef0447c7ff32285a0b164318677a86664fbefdf743d8aa78fe708a97d8e778918ae7f744843ea860c80ac4733a5443b71449e88cc62315372a92dcfc6827f5e826b5db0ca425cc7e0f4ed50dcebdb48500b1733f3ea742b7ab5d0fa3e0ba3d524a667528a5f44dd87914ea44fab9f6fc1d38579d0abd7b5f2d8a958c1c72e3fd44a70abfecfb8ad8e520937388bbfaf36362000dc1f30a5872ba2e65ffa31d38e5a8532cb9e443f455fcc32142d3c315c7315917c4285c21052a1374219b30c6897918542a41b6aa6e0054916f38b4b32e5ae5aabbea14fa99eac145d085d2eb17a49356f8caf89ad4f85fd2210a807ed9408bf81f3062ab28833a85cba5ca0473aa7e622216589c2ab7a3f5dc777a8561cf5a7c411f3b478e7c4f2245a5c0d93c82df25549c6da781f15772b30cd411e5c65c688773105d2cb072e183230eb6ebb46b973ed86ff9cb18fdbd0053720e2d3240a75f55d9443e5e3e73b7d950c3489706250f41faf6f4a0ca2dd036946fdc46a0efabe0e470180e4ed662a1a17f9c0dfce8b709880b39cc81a619c57b2f8d0bb4e68939f3de0ebe6cc42d5890ce6607359db040430c8774eecd1fcb3482cd39329350202dbb2c9c851194e539370fe8a8f76e7cbf7aba40cb2f202f4dc08c4ea7a29a6613923f1e704b8ed8a683686533fd73acf43634a7b1613e6f2fca06b18955a393e04525371274d68898b51dc5ac0d83656d4035bc93afee65fba61620b81b86626cb6a55de1cbd2da16e46bd999610272a88e33c075177ecb9858c1009a04fc8c9ce384fc4e85cb9d3fa48c81573771177a413624fd7ebe59d474f74588b4103d84b2d6fdad21df3a4e9","isRememberEnabled":false,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"95c54e4815f537357943cf67da9d480e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            document.getElementById("invalidPass").classList.remove("error");
            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    document.getElementById("invalidPass").classList.add("error");
                }
            });

            document.getElementById("staticrypt-password").addEventListener("input", function (e) {
                if (e.target.value !== '') {
                    document.getElementById("invalidPass").classList.remove("error");
                }
            });
        </script>
    </body>
</html>
